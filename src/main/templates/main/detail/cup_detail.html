{% extends "main/base.html" %}
{% load static i18n %}
{% block title %}{{ cup.title }}{% endblock %}
{% block bread %}
<ul class="breadcrumb list-bread">
    <li><a href="{% url 'home_page' %}"> {% trans 'Home' %} </a></li>/
    <li>
        {% if cup.region.slug == "fifa" %}
            {{ cup.region.title }}
        {% else %}
            <a href="{{ cup.region.get_absolute_url }}"> {{ cup.region.title }} </a>
        {% endif %}
    </li>/
    <li><a href="{{ cup.get_absolute_url }}"> {{ cup.title }} </a></li>
</ul>
{% endblock %}
{% block content %}
<div class="club-content">
    <div class="last">{{ cup.title }}
        {% if user.is_authenticated %}
            <sup><a href="{{ cup.get_absolute_url }}cup-title-update/"> {% trans 'change' %} </a></sup>
        {% else %}
            <sup><a href="{% url 'account_login' %}"> {% trans 'change' %} </a></sup>
        {% endif %}
    </div>
    <div class="info">
        {% if cup.image %}
            <img loading="lazy" class="img-club" src="{{ cup.image.url }}" alt="{{cup.title}}">
        {% else %}
            <img loading="lazy" class="images" src="{% static 'images/placeholder.png' %}" alt="holderplace">
        {% endif %}
        <p>{% trans "Founded:" %} {{cup.founded|date:'Y'|default:"-"}}</p>
        <p>{% trans "Region:" %} {{cup.region|default:"-"}}</p>
        <p>{% trans "Website" %}<a href="{{ cup.website }}" target="_blank"> {{ cup.website|default:"" }}</a></p>
        {% if user.is_authenticated %}
            <p><a href="{{ cup.get_absolute_url }}cup-info-update/"> {% trans 'change' %} </a></p>
        {% else %}
            <p><a href="{% url 'account_login' %}"> {% trans 'change' %} </a></p>
        {% endif %}
    </div>
    <div class="text-club">
        <p class="text">{{ cup.main_text|linebreaks }}</p>
        {% if user.is_authenticated %}
            <sup><a href="{{ cup.get_absolute_url }}cup-main-update/"> {% trans 'change' %} </a></sup>
        {% else %}
            <sup><a href="{% url 'account_login' %}"> {% trans 'change' %} </a></sup>
        {% endif %}
    </div>
    {% if cup.get_players %}
        <div class="last">{% trans "Wins by player" %}</div>
        <section class="sample">
            <div class="container">
                <div class="row">
                    {% for player in cup.get_players %}
                    <a title="{{ player.player.title }}" href="{{ player.player.get_absolute_url }}" class="item">
                        {% if player.player.image %}
                            <img loading="lazy" class="images" src="{{ player.player.image.url }}" alt="{{ player.player.title }}">
                        {% else %}
                            <img loading="lazy" class="images" src="{% static 'images/placeholder.png' %}" alt="holderplace">
                        {% endif %}
                        <div class="title">{{ player.player.title }} x {{player.times}}</div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </section>
    {% endif %}

    {% if cup.clubs.all %}
        <div class="last">{% trans "Wins by club" %}
            {% if user.is_authenticated %}
                <sup><a href="{{ cup.get_absolute_url }}cup-club-update/"> {% trans 'change' %} </a></sup>
            {% else %}
                <sup><a href="{% url 'account_login' %}"> {% trans 'change' %} </a></sup>
            {% endif %}
        </div>
        <section class="sample">
            <div class="container">
                <div class="row">
                    {% for club in cup.clubs.all %}
                    <a title="{{ club.title }}" href="{{ club.get_absolute_url }}" class="item">
                        {% if club.picture %}
                            <img loading="lazy" class="images" src="{{ club.picture.url }}" alt="{{ club.title }}">
                        {% else %}
                            <img loading="lazy" class="images" src="{% static 'images/placeholder.png' %}" alt="holderplace">
                        {% endif %}
                        <div class="title">{{ club.title }} {% if cup.slug == 'ballon-dor' %} x{{club.gb}} {% elif cup.slug == 'world-cup' %} x{{club.wc}} {% elif cup.slug == 'uefa-champions-league' %} x{{club.cl}} {% endif %}</div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </section>
    {% else %}
        <div class="last">{% trans "Wins by club" %}</div>
        <div class="nope">
            <p>{% blocktrans %}No clubs added, click {% endblocktrans %}
                {% if user.is_authenticated %}
                    <a href="{{ cup.get_absolute_url }}cup-club-update/"> {% trans 'change' %} </a>
                {% else %}
                    <a href="{% url 'account_login' %}"> {% trans 'change' %} </a>
                {% endif %}
            {% blocktrans %}to add{% endblocktrans %}</p>
        </div>
    {% endif %}

    {% if cup.countrys.all %}
        <div class="last">{% trans "Wins by country" %}
            {% if user.is_authenticated %}
                <sup><a href="{{ cup.get_absolute_url }}cup-country-update/"> {% trans 'change' %} </a></sup>
            {% else %}
                <sup><a href="{% url 'account_login' %}"> {% trans 'change' %} </a></sup>
            {% endif %}
        </div>
        <section class="sample">
            <div class="container">
                <div class="row">
                    {% for country in cup.countrys.all %}
                    <a title="{{ country.title }}" href="{{ country.get_absolute_url }}" class="item">
                        {% if country.picture %}
                            <img loading="lazy" class="images" src="{{ country.picture.url }}" alt="{{ country.title }}">
                        {% else %}
                            <img loading="lazy" class="images" src="{% static 'images/placeholder.png' %}" alt="holderplace">
                        {% endif %}
                        <div class="title">{{ country.title }} {% if cup.slug == 'ballon-dor' %} x{{country.gb}} {% elif cup.slug == 'world-cup' %} x{{country.wc}} {% elif cup.slug == 'uefa-champions-league' %} x{{country.cl}} {% endif %}</div>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </section>
    {% else %}
        <div class="last">{% trans "Wins by country" %}</div>
        <div class="nope">
            <p>{% blocktrans %}No country added, click {% endblocktrans %}
                {% if user.is_authenticated %}
                    <a href="{{ cup.get_absolute_url }}cup-country-update/"> {% trans 'change' %} </a>
                {% else %}
                    <a href="{% url 'account_login' %}"> {% trans 'change' %} </a>
                {% endif %}
            {% blocktrans %}to add{% endblocktrans %}</p>
        </div>
    {% endif %}
</div>
{% endblock %}